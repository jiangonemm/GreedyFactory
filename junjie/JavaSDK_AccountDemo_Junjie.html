<html lang="en"><head>
    <meta charset="UTF-8">
    <title></title>
<style id="system" type="text/css">*{margin:0;padding:0;}body {	font:13.34px helvetica,arial,freesans,clean,sans-serif;	color:black;	line-height:1.4em;	background-color: #F8F8F8;	padding: 0.7em;}p {	margin:1em 0;	line-height:1.5em;}table {	font-size:inherit;	font:100%;	margin:1em;}table th{border-bottom:1px solid #bbb;padding:.2em 1em;}table td{border-bottom:1px solid #ddd;padding:.2em 1em;}input[type=text],input[type=password],input[type=image],textarea{font:99% helvetica,arial,freesans,sans-serif;}select,option{padding:0 .25em;}optgroup{margin-top:.5em;}pre,code{font:12px Monaco,"Courier New","DejaVu Sans Mono","Bitstream Vera Sans Mono",monospace;}pre {	margin:1em 0;	font-size:12px;	background-color:#eee;	border:1px solid #ddd;	padding:5px;	line-height:1.5em;	color:#444;	overflow:auto;	-webkit-box-shadow:rgba(0,0,0,0.07) 0 1px 2px inset;	-webkit-border-radius:3px;	-moz-border-radius:3px;border-radius:3px;white-space: pre-wrap;word-wrap:break-word;}pre code {	padding:0;	font-size:12px;	background-color:#eee;	border:none;}code {	font-size:12px;	background-color:#f8f8ff;	color:#444;	padding:0 .2em;	border:1px solid #dedede;}img{border:0;max-width:100%;}abbr{border-bottom:none;}a{color:#4183c4;text-decoration:none;}a:hover{text-decoration:underline;}a code,a:link code,a:visited code{color:#4183c4;}h2,h3{margin:1em 0;}h1,h2,h3,h4,h5,h6{border:0;}h1{font-size:170%;border-top:4px solid #aaa;padding-top:.5em;margin-top:1.5em;}h1:first-child{margin-top:0;padding-top:.25em;border-top:none;}h2{font-size:150%;margin-top:1.5em;border-top:4px solid #e0e0e0;padding-top:.5em;}h3{margin-top:1em;}hr{border:1px solid #ddd;}ul{margin:1em 0 1em 2em;}ol{margin:1em 0 1em 2em;}ul li,ol li{margin-top:.5em;margin-bottom:.5em;}ul ul,ul ol,ol ol,ol ul{margin-top:0;margin-bottom:0;}blockquote{margin:1em 0;border-left:5px solid #ddd;padding-left:.6em;color:#555;}dt{font-weight:bold;margin-left:1em;}dd{margin-left:2em;margin-bottom:1em;}@media screen and (min-width: 768px) {    body {        width: 748px;        margin:10px auto;    }}</style><style id="custom" type="text/css">package demo;

import com.github.zeepin.ZPTSdk;
import com.github.zeepin.common.Address;
import com.github.zeepin.common.ConvertAddress;
import com.github.zeepin.core.asset.State;
import com.github.zeepin.core.transaction.Transaction;

public class accountJunjie {

    public static void main(String[] args) {
		// TODO Auto-generated method stub

		try {
			ZPTSdk zptSdk = getZPTSdk();
					
			////////////// 编译一块代码时，请注释掉其他所有的代码块，否则会出现重复定义报错！////////////
			///////////////////////请确保钱包文件“wallet.dat”中存在相应的账户！/////////////////////
						
			//旧地址转换为新地址
			String oldAddress = "AVBokCnLS9NxUjeXTdL8BMsgN41bwtK89J";//A开头的旧地址
			String newAddress = ConvertAddress.convertAddress(oldAddress);//Z开头的新地址			
			System.out.print(newAddress);
			
			//随机创建一个账户
			com.github.zeepin.account.Account acct = new com.github.zeepin.account.Account(zptSdk.defaultSignScheme);
			System.out.println(acct.serializePrivateKey());//私钥
			System.out.println(acct.serializePublicKey());//公钥
			System.out.println(acct.getAddressU160().toBase58());//base58地址
			zptSdk.getWalletMgr().writeWallet();
			
			//输入密码在钱包中批量创建账户
			zptSdk.getWalletMgr().createAccounts(10, "Wjj123456789");
			zptSdk.getWalletMgr().writeWallet();
							
			//通过index设置默认账户
			zptSdk.getWalletMgr().getWallet().setDefaultAccount(0);//index
			zptSdk.getWalletMgr().writeWallet();
			
			//通过地址设置默认账户
			zptSdk.getWalletMgr().getWallet().setDefaultAccount("ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X");//address
			zptSdk.getWalletMgr().writeWallet();
						
			//获取账户
			com.github.zeepin.account.Account acct0 = zptSdk.getWalletMgr().getAccount("ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X","Wjj123456789");			

			//查询账户的zpt和gala余额
			System.out.println(zptSdk.getConnect().getBalance("ZK4hRD28ucvxKU1zJqavUJbfU2ene5uJ9n"));
			
			//从钱包文件中删除指定的账户
			zptSdk.getWalletMgr().getWallet().removeAccount("ZEKXwQwUXbsLmMMyc31vQoCuNzhLYwN27h");
			zptSdk.getWalletMgr().writeWallet();
			

			//查询zpt信息：
			System.out.println(zptSdk.nativevm().zpt().queryName());
			System.out.println(zptSdk.nativevm().zpt().querySymbol());
			System.out.println(zptSdk.nativevm().zpt().queryDecimals());
			System.out.println(zptSdk.nativevm().zpt().queryTotalSupply());
			
			//查询gala信息：
			System.out.println(zptSdk.nativevm().gala().queryName());
			System.out.println(zptSdk.nativevm().gala().querySymbol());
			System.out.println(zptSdk.nativevm().gala().queryDecimals());
			System.out.println(zptSdk.nativevm().gala().queryTotalSupply());
			
			
			//查询交易是否在交易池中，存在则打印相关信息，不存在则报错“error44001”
			zptSdk.getConnect().getMemPoolTxState("d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38");
						
			//根据交易Hash查询智能合约推送内容
			System.out.print(zptSdk.getConnect().getSmartCodeEvent("d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38"));
					
			//根据块高查询智能合约事件，返回有事件的交易
			System.out.print(zptSdk.getConnect().getSmartCodeEvent(230869));
						
			//查询节点数量
			System.out.print(zptSdk.getConnect().getNodeCount());
						
			//根据块高查询块
			System.out.print(zptSdk.getConnect().getBlock(231089));	
			
			//根据块的Hash查询块
			System.out.print(zptSdk.getConnect().getBlock("dfac114454fe13793ecc4f644dc5915abc55e58bcf4684dfddf718dc681ddf98"));
			
			//根据块高查询块的Json信息
			System.out.print(zptSdk.getConnect().getBlockJson(231089));	
			
			//根据块的Hash查询块的Json信息
			System.out.print(zptSdk.getConnect().getBlock("dfac114454fe13793ecc4f644dc5915abc55e58bcf4684dfddf718dc681ddf98"));
			
			//查询当前块高
			System.out.print(zptSdk.getConnect().getBlockHeight());
			
			//根据交易Hash查询交易信息
			System.out.print(zptSdk.getConnect().getTransaction("d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38"));
						
			//查询交易所在块的高度
			System.out.print(zptSdk.getConnect().getBlockHeightByTxHash("d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38"));
						
			//根据交易Hash获取merkle证明
			System.out.print(zptSdk.getConnect().getMerkleProof("d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38"));
						
			//查询交易池中交易总量
			System.out.print(zptSdk.getConnect().getMemPoolTxCount());
						
			//查询交易池中交易状态
			System.out.print(zptSdk.getConnect().getMemPoolTxState("d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38"));
			
					
			//单签地址，一转一交易
			com.github.zeepin.account.Account acct0 = zptSdk.getWalletMgr().getAccount("ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X","Wjj123456789");					
			com.github.zeepin.account.Account acct1 = zptSdk.getWalletMgr().getAccount("ZNEo7CMRpQXGDgSwvhm2iDGPTXhVRJcMfc","Wjj123456789");					
			String sendAddr = "ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X";
			String recvAddr = "ZNEo7CMRpQXGDgSwvhm2iDGPTXhVRJcMfc";		
			long amount = 10000000;
			Transaction tx = zptSdk.nativevm().zpt().makeTransfer(sendAddr, recvAddr, amount, sendAddr, 20000, 1);		//转zpt
	//		Transaction tx = zptSdk.nativevm().gala().makeTransfer(sendAddr, recvAddr, amount, sendAddr, 20000, 1);		//转gala
			zptSdk.signTx(tx, new com.github.zeepin.account.Account[][]{{acct0}});			
			zptSdk.getConnect().sendRawTransaction(tx.toHexString());
			
			
			//单签地址&多签地址，多转一交易
			com.github.zeepin.account.Account acct0 = zptSdk.getWalletMgr().getAccount("ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X","Wjj123456789");					
			com.github.zeepin.account.Account acct1 = zptSdk.getWalletMgr().getAccount("ZNEo7CMRpQXGDgSwvhm2iDGPTXhVRJcMfc","Wjj123456789");
			com.github.zeepin.account.Account acct2 = zptSdk.getWalletMgr().getAccount("ZFPE3GjRRW958TAizn8iLdjYZevbVu7isT","Wjj123456789");
			com.github.zeepin.account.Account acct3 = zptSdk.getWalletMgr().getAccount("ZZTf9Pbnkr4F1eRe19AUDKhjBUyxjsE6ZR","Wjj123456789");			
			Address sender1 = acct0.getAddressU160();
			Address sender2 = Address.addressFromMultiPubKeys(2, acct1.serializePublicKey(), acct2.serializePublicKey());
			System.out.println(sender2.toBase58());			
			Address recvAddr = acct3.getAddressU160();
			int amount1 = 20000000;
			int amount2 = 100000;
			State state1 = new State(sender1, recvAddr, amount1);
			State state2 = new State(sender2, recvAddr, amount2);	
			Transaction tx = zptSdk.nativevm().zpt().makeTransfer(new State[]{state1,state2},sender1.toBase58(),20000,1);		//转zpt
	//		Transaction tx = zptSdk.nativevm().gala().makeTransfer(new State[]{state1,state2},sender1.toBase58(),20000,1);		//转gala
			zptSdk.signTx(tx, new com.github.zeepin.account.Account[][]{{acct0}});
			zptSdk.addMultiSign(tx,2,new byte[][]{acct1.serializePublicKey(),acct2.serializePublicKey()},acct1);
			zptSdk.addMultiSign(tx,2,new byte[][]{acct1.serializePublicKey(),acct2.serializePublicKey()},acct2);		
			zptSdk.getConnect().sendRawTransaction(tx.toHexString());
			
			
			//查询未提取的Gala
			com.github.zeepin.account.Account acct0 = zptSdk.getWalletMgr().getAccount("ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X","Wjj123456789");
			String addr = acct0.getAddressU160().toBase58();
			String gala = zptSdk.nativevm().gala().unboundGala(addr);
			System.out.println(gala);
			
			//提取Gala到自己账户中
			com.github.zeepin.account.Account acct0 = zptSdk.getWalletMgr().getAccount("ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X","Wjj123456789");
			String hash = zptSdk.nativevm().gala().withdrawGala(acct0, "ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X",100000,acct0,20000,1);
						
			
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

	}
    
	public static ZPTSdk getZPTSdk() throws Exception {
        String ip = "http://127.0.0.1";
//      String ip = "http://54.222.182.88;
//      String ip = "http://101.132.193.149";
        String restUrl = ip + ":" + "20334";
        String rpcUrl = ip + ":" + "20336";
        String wsUrl = ip + ":" + "20335";
        //生成一个新的 zptSdk
        ZPTSdk wm = ZPTSdk.getInstance();
        wm.setRpc(rpcUrl);
        wm.setRestful(restUrl);
        wm.setDefaultConnect(wm.getRpc());
        //设置钱包
        wm.openWalletFile("wallet.dat");
        return wm;
    }
}
</style></head>
<body marginheight="0"><h1>ZEEPIN_JAVA SDK 交互</h1>
<h2>账户创建、管理、查询，转账相关Demo</h2>
<h5>---编译运行前请确保钱包文件中存在相应账户---</h5>
<h5>旧地址转换为新地址</h5>
<pre><ol class="hibot"><li rel="0"><span class="keyword">String</span>&nbsp;oldAddress&nbsp;=&nbsp;<span class="string">"AVBokCnLS9NxUjeXTdL8BMsgN41bwtK89J"</span>;<span class="comment">//A开头的旧地址</span>&nbsp;</li><li rel="0"><span class="keyword">String</span>&nbsp;newAddress&nbsp;=&nbsp;ConvertAddress.convertAddress(oldAddress);<span class="comment">//Z开头的新地址</span>&nbsp;</li><li rel="0">System.out.print(newAddress);</li></ol><code class="lang-java" style="display: none;">String oldAddress = "AVBokCnLS9NxUjeXTdL8BMsgN41bwtK89J";//A开头的旧地址
String newAddress = ConvertAddress.convertAddress(oldAddress);//Z开头的新地址
System.out.print(newAddress);</code></pre>
<h5>随机创建一个账户</h5>
<pre><ol class="hibot"><li rel="0">com.github.zeepin.account.Account&nbsp;acct&nbsp;=&nbsp;<span class="keyword">new</span>&nbsp;com.github.zeepin.account.Account(zptSdk.defaultSignScheme);&nbsp;</li><li rel="0">System.out.println(acct.serializePrivateKey());<span class="comment">//私钥</span>&nbsp;</li><li rel="0">System.out.println(acct.serializePublicKey());<span class="comment">//公钥</span>&nbsp;</li><li rel="0">System.out.println(acct.getAddressU160().toBase58());<span class="comment">//base58地址</span>&nbsp;</li><li rel="0">zptSdk.getWalletMgr().writeWallet();</li></ol><code class="lang-java" style="display: none;">com.github.zeepin.account.Account acct = new com.github.zeepin.account.Account(zptSdk.defaultSignScheme);
System.out.println(acct.serializePrivateKey());//私钥
System.out.println(acct.serializePublicKey());//公钥
System.out.println(acct.getAddressU160().toBase58());//base58地址
zptSdk.getWalletMgr().writeWallet();</code></pre>
<h5>输入密码在钱包中批量创建账户</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getWalletMgr().createAccounts(<span class="num">10</span>,&nbsp;<span class="string">"Wjj123456789"</span>);&nbsp;</li><li rel="0">zptSdk.getWalletMgr().writeWallet();</li></ol><code class="lang-java" style="display: none;">zptSdk.getWalletMgr().createAccounts(10, "Wjj123456789");
zptSdk.getWalletMgr().writeWallet();</code></pre>
<h5>通过index设置默认账户</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getWalletMgr().getWallet().setDefaultAccount(<span class="num">0</span>);<span class="comment">//index</span>&nbsp;</li><li rel="0">zptSdk.getWalletMgr().writeWallet();</li></ol><code class="lang-java" style="display: none;">zptSdk.getWalletMgr().getWallet().setDefaultAccount(0);//index
zptSdk.getWalletMgr().writeWallet();</code></pre>
<h5>通过地址设置默认账户</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getWalletMgr().getWallet().setDefaultAccount(<span class="string">"ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X"</span>);<span class="comment">//address</span>&nbsp;</li><li rel="0">zptSdk.getWalletMgr().writeWallet();</li></ol><code class="lang-java" style="display: none;">zptSdk.getWalletMgr().getWallet().setDefaultAccount("ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X");//address
zptSdk.getWalletMgr().writeWallet();</code></pre>
<h5>获取账户</h5>
<pre><ol class="hibot"><li rel="0">com.github.zeepin.account.Account&nbsp;acct0&nbsp;=&nbsp;zptSdk.getWalletMgr().getAccount(<span class="string">"ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X"</span>,<span class="string">"Wjj123456789"</span>);</li></ol><code class="lang-java" style="display: none;">com.github.zeepin.account.Account acct0 = zptSdk.getWalletMgr().getAccount("ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X","Wjj123456789");</code></pre>
<h5>查询账户的zpt和gala余额</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getBalance(<span class="string">"ZK4hRD28ucvxKU1zJqavUJbfU2ene5uJ9n"</span>);</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getBalance("ZK4hRD28ucvxKU1zJqavUJbfU2ene5uJ9n");</code></pre>
<h5>从钱包文件中删除指定的账户</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getWalletMgr().getWallet().removeAccount(<span class="string">"ZEKXwQwUXbsLmMMyc31vQoCuNzhLYwN27h"</span>);&nbsp;</li><li rel="0">zptSdk.getWalletMgr().writeWallet();</li></ol><code class="lang-java" style="display: none;">zptSdk.getWalletMgr().getWallet().removeAccount("ZEKXwQwUXbsLmMMyc31vQoCuNzhLYwN27h");
zptSdk.getWalletMgr().writeWallet();</code></pre>
<h5>查询zpt信息</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.nativevm().zpt().queryName();&nbsp;</li><li rel="0">zptSdk.nativevm().zpt().querySymbol();&nbsp;</li><li rel="0">zptSdk.nativevm().zpt().queryDecimals();&nbsp;</li><li rel="0">zptSdk.nativevm().zpt().queryTotalSupply();</li></ol><code class="lang-java" style="display: none;">zptSdk.nativevm().zpt().queryName();
zptSdk.nativevm().zpt().querySymbol();
zptSdk.nativevm().zpt().queryDecimals();
zptSdk.nativevm().zpt().queryTotalSupply();</code></pre>
<h5>查询gala信息</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.nativevm().gala().queryName();&nbsp;</li><li rel="0">zptSdk.nativevm().gala().querySymbol();&nbsp;</li><li rel="0">zptSdk.nativevm().gala().queryDecimals();&nbsp;</li><li rel="0">zptSdk.nativevm().gala().queryTotalSupply();</li></ol><code class="lang-java" style="display: none;">zptSdk.nativevm().gala().queryName();
zptSdk.nativevm().gala().querySymbol();
zptSdk.nativevm().gala().queryDecimals();
zptSdk.nativevm().gala().queryTotalSupply();</code></pre>
<h5>查询交易是否在交易池中，存在则打印相关信息</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getMemPoolTxState(<span class="string">"d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38"</span>);</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getMemPoolTxState("d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38");</code></pre>
<h5>根据交易Hash查询智能合约推送内容</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getSmartCodeEvent(<span class="string">"d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38"</span>);</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getSmartCodeEvent("d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38");</code></pre>
<h5>根据块高查询智能合约事件，返回有事件的交易</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getSmartCodeEvent(<span class="num">230869</span>);</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getSmartCodeEvent(230869);</code></pre>
<h5>查询节点数量</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getNodeCount();</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getNodeCount();</code></pre>
<h5>根据块高查询块</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getBlock(<span class="num">231089</span>);</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getBlock(231089);</code></pre>
<h5>根据块的Hash查询块</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getBlock(<span class="string">"dfac114454fe13793ecc4f644dc5915abc55e58bcf4684dfddf718dc681ddf98"</span>);</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getBlock("dfac114454fe13793ecc4f644dc5915abc55e58bcf4684dfddf718dc681ddf98");</code></pre>
<h5>根据块高查询块的Json信息</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getBlockJson(<span class="num">231089</span>);</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getBlockJson(231089);</code></pre>
<h5>根据块的Hash查询块的Json信息</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getBlockJson(<span class="string">"dfac114454fe13793ecc4f644dc5915abc55e58bcf4684dfddf718dc681ddf98"</span>);</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getBlockJson("dfac114454fe13793ecc4f644dc5915abc55e58bcf4684dfddf718dc681ddf98");</code></pre>
<h5>查询当前块高</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getBlockHeight();</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getBlockHeight();</code></pre>
<h5>根据交易Hash查询交易信息</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getTransaction(<span class="string">"d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38"</span>);</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getTransaction("d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38");</code></pre>
<h5>查询交易所在块的高度</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getBlockHeightByTxHash(<span class="string">"d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38"</span>);</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getBlockHeightByTxHash("d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38");</code></pre>
<h5>根据交易Hash获取merkle证明</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getMerkleProof(<span class="string">"d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38"</span>);</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getMerkleProof("d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38");</code></pre>
<h5>查询交易池中交易总量</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getMemPoolTxCount();</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getMemPoolTxCount();</code></pre>
<h5>查询交易池中交易状态</h5>
<pre><ol class="hibot"><li rel="0">zptSdk.getConnect().getMemPoolTxState(<span class="string">"d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38"</span>);</li></ol><code class="lang-java" style="display: none;">zptSdk.getConnect().getMemPoolTxState("d61aeeec9adcb7190e1d28604fcfa8ceb0cddf785eceec269313e967a16a9e38");</code></pre>
<h5>单签地址，一转一交易</h5>
<pre><ol class="hibot"><li rel="0">com.github.zeepin.account.Account&nbsp;acct0&nbsp;=&nbsp;zptSdk.getWalletMgr().getAccount(<span class="string">"ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X"</span>,<span class="string">"Wjj123456789"</span>);&nbsp;</li><li rel="0">com.github.zeepin.account.Account&nbsp;acct1&nbsp;=&nbsp;zptSdk.getWalletMgr().getAccount(<span class="string">"ZNEo7CMRpQXGDgSwvhm2iDGPTXhVRJcMfc"</span>,<span class="string">"Wjj123456789"</span>);&nbsp;</li><li rel="0">&nbsp;</li><li rel="0"><span class="keyword">String</span>&nbsp;sendAddr&nbsp;=&nbsp;<span class="string">"ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X"</span>;&nbsp;</li><li rel="0"><span class="keyword">String</span>&nbsp;recvAddr&nbsp;=&nbsp;<span class="string">"ZNEo7CMRpQXGDgSwvhm2iDGPTXhVRJcMfc"</span>;&nbsp;</li><li rel="0"><span class="keyword">long</span>&nbsp;amount&nbsp;=&nbsp;<span class="num">10000000</span>;&nbsp;</li><li rel="0">&nbsp;</li><li rel="0"><span class="comment">//构造转账交易</span>&nbsp;</li><li rel="0">Transaction&nbsp;tx&nbsp;=&nbsp;zptSdk.nativevm().zpt().makeTransfer(sendAddr,&nbsp;recvAddr,&nbsp;amount,&nbsp;sendAddr,&nbsp;<span class="num">20000</span>,&nbsp;<span class="num">1</span>);&nbsp;<span class="comment">//转zpt</span>&nbsp;</li><li rel="0">&nbsp;</li><li rel="0"><span class="comment">//Transaction&nbsp;tx&nbsp;=&nbsp;zptSdk.nativevm().gala().makeTransfer(sendAddr,&nbsp;recvAddr,&nbsp;amount,&nbsp;sendAddr,&nbsp;20000,&nbsp;1);&nbsp;//转gala</span>&nbsp;</li><li rel="0">&nbsp;</li><li rel="0"><span class="comment">//单签签名</span>&nbsp;</li><li rel="0">zptSdk.signTx(tx,&nbsp;<span class="keyword">new</span>&nbsp;com.github.zeepin.account.Account[][]{{acct0}});&nbsp;</li><li rel="0">&nbsp;</li><li rel="0"><span class="comment">//发送交易</span>&nbsp;</li><li rel="0">zptSdk.getConnect().sendRawTransaction(tx.toHexString());</li></ol><code class="lang-java" style="display: none;">com.github.zeepin.account.Account acct0 = zptSdk.getWalletMgr().getAccount("ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X","Wjj123456789");
com.github.zeepin.account.Account acct1 = zptSdk.getWalletMgr().getAccount("ZNEo7CMRpQXGDgSwvhm2iDGPTXhVRJcMfc","Wjj123456789");

String sendAddr = "ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X";
String recvAddr = "ZNEo7CMRpQXGDgSwvhm2iDGPTXhVRJcMfc";
long amount = 10000000;

//构造转账交易
Transaction tx = zptSdk.nativevm().zpt().makeTransfer(sendAddr, recvAddr, amount, sendAddr, 20000, 1); //转zpt

//Transaction tx = zptSdk.nativevm().gala().makeTransfer(sendAddr, recvAddr, amount, sendAddr, 20000, 1); //转gala

//单签签名
zptSdk.signTx(tx, new com.github.zeepin.account.Account[][]{{acct0}});

//发送交易
zptSdk.getConnect().sendRawTransaction(tx.toHexString());</code></pre>
<h5>单签地址&amp;多签地址，多转一交易</h5>
<pre><ol class="hibot"><li rel="0">com.github.zeepin.account.Account&nbsp;acct0&nbsp;=&nbsp;zptSdk.getWalletMgr().getAccount(<span class="string">"ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X"</span>,<span class="string">"Wjj123456789"</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li rel="0">com.github.zeepin.account.Account&nbsp;acct1&nbsp;=&nbsp;zptSdk.getWalletMgr().getAccount(<span class="string">"ZNEo7CMRpQXGDgSwvhm2iDGPTXhVRJcMfc"</span>,<span class="string">"Wjj123456789"</span>);&nbsp;</li><li rel="0">com.github.zeepin.account.Account&nbsp;acct2&nbsp;=&nbsp;zptSdk.getWalletMgr().getAccount(<span class="string">"ZFPE3GjRRW958TAizn8iLdjYZevbVu7isT"</span>,<span class="string">"Wjj123456789"</span>);&nbsp;</li><li rel="0">com.github.zeepin.account.Account&nbsp;acct3&nbsp;=&nbsp;zptSdk.getWalletMgr().getAccount(<span class="string">"ZZTf9Pbnkr4F1eRe19AUDKhjBUyxjsE6ZR"</span>,<span class="string">"Wjj123456789"</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li rel="0">&nbsp;</li><li rel="0">Address&nbsp;sender1&nbsp;=&nbsp;acct0.getAddressU160();&nbsp;</li><li rel="0">Address&nbsp;sender2&nbsp;=&nbsp;Address.addressFromMultiPubKeys(<span class="num">2</span>,&nbsp;acct1.serializePublicKey(),&nbsp;acct2.serializePublicKey());&nbsp;</li><li rel="0">Address&nbsp;recvAddr&nbsp;=&nbsp;acct3.getAddressU160();&nbsp;</li><li rel="0"><span class="keyword">int</span>&nbsp;amount1&nbsp;=&nbsp;<span class="num">20000000</span>;&nbsp;</li><li rel="0"><span class="keyword">int</span>&nbsp;amount2&nbsp;=&nbsp;<span class="num">100000</span>;&nbsp;</li><li rel="0">State&nbsp;state1&nbsp;=&nbsp;<span class="keyword">new</span>&nbsp;State(sender1,&nbsp;recvAddr,&nbsp;amount1);&nbsp;</li><li rel="0">State&nbsp;state2&nbsp;=&nbsp;<span class="keyword">new</span>&nbsp;State(sender2,&nbsp;recvAddr,&nbsp;amount2);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li rel="0">&nbsp;</li><li rel="0"><span class="comment">//构造转账交易</span>&nbsp;</li><li rel="0">Transaction&nbsp;tx&nbsp;=&nbsp;zptSdk.nativevm().zpt().makeTransfer(<span class="keyword">new</span>&nbsp;State[]{state1,state2},sender1.toBase58(),<span class="num">20000</span>,<span class="num">1</span>);&nbsp;<span class="comment">//转zpt</span>&nbsp;</li><li rel="0">&nbsp;</li><li rel="0"><span class="comment">//Transaction&nbsp;tx&nbsp;=&nbsp;zptSdk.nativevm().gala().makeTransfer(new&nbsp;State[]{state1,state2},sender1.toBase58(),20000,1);&nbsp;//转gala</span>&nbsp;</li><li rel="0">&nbsp;</li><li rel="0"><span class="comment">//单签签名</span>&nbsp;</li><li rel="0">zptSdk.signTx(tx,&nbsp;<span class="keyword">new</span>&nbsp;com.github.zeepin.account.Account[][]{{acct0}});&nbsp;</li><li rel="0"><span class="comment">//添加多签签名</span>&nbsp;</li><li rel="0">zptSdk.addMultiSign(tx,<span class="num">2</span>,<span class="keyword">new</span>&nbsp;<span class="keyword">byte</span>[][]{acct1.serializePublicKey(),acct2.serializePublicKey()},acct1);&nbsp;</li><li rel="0">zptSdk.addMultiSign(tx,<span class="num">2</span>,<span class="keyword">new</span>&nbsp;<span class="keyword">byte</span>[][]{acct1.serializePublicKey(),acct2.serializePublicKey()},acct2);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li rel="0">&nbsp;</li><li rel="0"><span class="comment">//发送交易</span>&nbsp;</li><li rel="0">zptSdk.getConnect().sendRawTransaction(tx.toHexString());</li></ol><code class="lang-java" style="display: none;">com.github.zeepin.account.Account acct0 = zptSdk.getWalletMgr().getAccount("ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X","Wjj123456789");                    
com.github.zeepin.account.Account acct1 = zptSdk.getWalletMgr().getAccount("ZNEo7CMRpQXGDgSwvhm2iDGPTXhVRJcMfc","Wjj123456789");
com.github.zeepin.account.Account acct2 = zptSdk.getWalletMgr().getAccount("ZFPE3GjRRW958TAizn8iLdjYZevbVu7isT","Wjj123456789");
com.github.zeepin.account.Account acct3 = zptSdk.getWalletMgr().getAccount("ZZTf9Pbnkr4F1eRe19AUDKhjBUyxjsE6ZR","Wjj123456789");            

Address sender1 = acct0.getAddressU160();
Address sender2 = Address.addressFromMultiPubKeys(2, acct1.serializePublicKey(), acct2.serializePublicKey());
Address recvAddr = acct3.getAddressU160();
int amount1 = 20000000;
int amount2 = 100000;
State state1 = new State(sender1, recvAddr, amount1);
State state2 = new State(sender2, recvAddr, amount2);    

//构造转账交易
Transaction tx = zptSdk.nativevm().zpt().makeTransfer(new State[]{state1,state2},sender1.toBase58(),20000,1); //转zpt

//Transaction tx = zptSdk.nativevm().gala().makeTransfer(new State[]{state1,state2},sender1.toBase58(),20000,1); //转gala

//单签签名
zptSdk.signTx(tx, new com.github.zeepin.account.Account[][]{{acct0}});
//添加多签签名
zptSdk.addMultiSign(tx,2,new byte[][]{acct1.serializePublicKey(),acct2.serializePublicKey()},acct1);
zptSdk.addMultiSign(tx,2,new byte[][]{acct1.serializePublicKey(),acct2.serializePublicKey()},acct2);    

//发送交易
zptSdk.getConnect().sendRawTransaction(tx.toHexString());</code></pre>
<h5>查询未提取的Gala</h5>
<pre><ol class="hibot"><li rel="0"><span class="keyword">String</span>&nbsp;gala&nbsp;=&nbsp;zptSdk.nativevm().gala().unboundGala(<span class="string">"ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X"</span>);&nbsp;</li><li rel="0">System.out.println(gala);</li></ol><code class="lang-java" style="display: none;">String gala = zptSdk.nativevm().gala().unboundGala("ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X");
System.out.println(gala);</code></pre>
<h5>提取Gala到自己账户中</h5>
<pre><ol class="hibot"><li rel="0">com.github.zeepin.account.Account&nbsp;acct0&nbsp;=&nbsp;zptSdk.getWalletMgr().getAccount(<span class="string">"ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X"</span>,<span class="string">"Wjj123456789"</span>);&nbsp;</li><li rel="0"><span class="keyword">String</span>&nbsp;hash&nbsp;=&nbsp;zptSdk.nativevm().gala().withdrawGala(acct0,&nbsp;<span class="string">"ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X"</span>,&nbsp;<span class="num">100000</span>,&nbsp;acct0,&nbsp;<span class="num">20000</span>,&nbsp;<span class="num">1</span>);</li></ol><code class="lang-java" style="display: none;">com.github.zeepin.account.Account acct0 = zptSdk.getWalletMgr().getAccount("ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X","Wjj123456789");
String hash = zptSdk.nativevm().gala().withdrawGala(acct0, "ZEuzshrCsE1cnvPuuRrDYgnVYNDtyt5d3X", 100000, acct0, 20000, 1);</code></pre>
</body></html>